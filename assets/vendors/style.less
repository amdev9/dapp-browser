@import 'variable.less';

* {
	margin: 0;
	padding: 0;
	outline: none !important
}

html {
	height: 100%;
}

article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
	display: block;
}

body {
	font: 16px @font-opensans;
	height: 100%;
	color: @dark
}

#app {
	position: relative;
	min-height: 100%;
	overflow: hidden;
	background: @gray;

	&:after {
		position: fixed;
		content: '';
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		opacity: 0;
		z-index: 9999;
		visibility: hidden;
		background: @white url('../images/spinner.svg') no-repeat center;
		.transition()
	}
}

.transition(@property: all, @delay: .15s, @duration: ease-in-out) {
    transition: @arguments;
}

.transform(@property: scale(1)) {
    transform: @property;
}

.selection {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	user-select: none;
}


/* Header
-----------------------------------------------------------------------------*/
header {
	position: fixed;
	width: 100%;
	height: 60px;
	top: 0;
	left: 0;
	right: 0;
	background: @white;
	z-index: 10;
	box-shadow: 0 2px 3px rgba(32, 32, 73, .05);

	.navbar {
		height: 100%;

		&-home {
			height: 100%;
			flex: 0 0 62px;
			padding: 0;
			background: @white;

			&-link {
				font-size: 24px;
				display: block;
				height: 100%;
				color: @theme;
				cursor: pointer;
				line-height: 60px;
				text-align: center;
				.transition(color);

				&:hover {
					color: #689BFA
				}
			}
		}

		&-user {
			&-back {
				display: inline-block;
				vertical-align: middle;
				
				button {
					height: 35px;
					cursor: pointer;
					line-height: 32px;
					background: none;
					padding: 0 15px;
					border: 0;
					border-right: 1px solid lighten(@lgray, 20%);
				}
			}

			&-uri {
				vertical-align: middle;
				height: 37px;
				padding: 0 15px;
				border-right: 1px solid lighten(@lgray, 20%);

				span {
					font: 14px @font-montserrat;
					color: @dgray;
					line-height: 38px;
					text-transform: uppercase
				}
			}

			&-search {
				height: 100%;
				padding-left: 0;

				form {
					height: 100%;
					width: 100%;

					.input {
						&-group {
							height: 100%;
							cursor: text;
		
							.form-control {
								font: 16px @font-montserrat;
								border: 0;
								height: 35px;
								color: @dark;
								margin: 12px 0 0;
								opacity: 0;
								border-radius: 0;

								&.focus {
									opacity: 1;
								}
							}
		
							&-append {
								button {
									position: relative;
									color: @lgray;
									width: 30px;
									height: 30px;
									border: 0;
									top: 50%;
									margin: 1px 0 0;
									cursor: default;
									background: none;
									.transition(color);
									.transform(translateY(-50%));

									.icon {
										&-search {
											font-size: 24px;
										}
										&-close {
											font-size: 18px;
										}
									}
	
									&:hover {
										color: @theme
									}
								}
							}
						}
						
						&-result {
							position: absolute;
							top: 100%;
							left: 0;
							right: 0;
							background: @white;
							border-top: 1px solid rgba(32, 32, 73, .05);
							box-shadow: 0 2px 3px rgba(32, 32, 73, .05);

							&-name {
								padding: 6px 15px;
								background: @gray;

								span {
									font: 500 13px @font-opensans;
									display: block;
									color: fade(@dgray, 50%);
									text-transform: uppercase;
									overflow: hidden;
									white-space: nowrap;
									text-overflow: ellipsis
								}
							}

							&-item {
								padding: 10px 0;
								margin: 0;
								cursor: default;

								&:hover {
									text-decoration: none;
									background: @gray
								}

								.item-name,
								.item-uri,
								.item-type {
									overflow: hidden;

									span {
										display: block;
										overflow: hidden;
										white-space: nowrap;
										text-overflow: ellipsis
									}
								}

								.item-name {
									@media (max-width: 991px) {
										margin-bottom: 10px
									}

									span, img {
										font: 16px @font-montserrat;
										display: inline-block;
										color: @dark;
										vertical-align: middle;
									}

									img {
										width: 42px;
										margin-right: 10px
									}
								}

								.item-uri {
									span {
										font: 14px @font-montserrat;
										color: fade(@dgray, 50%);
										display: block;
										padding-left: 5px
									}
								}

								.item-type {
									span {
										font: 12px @font-opensans;
										color: @dgray;
										text-transform: uppercase
									}
								}
							}
						}
					}
				}
			}

			&-nav {
				padding-left: 0;

				.dropdown {
					display: inline-block;
					vertical-align: middle;
					margin-right: 15px
				}

				& > button {
					position: relative;
					display: inline-block;
					border: 0;
					cursor: default;
					background: none;
					vertical-align: middle;

					&.notify {
						&:before {
							position: absolute;
							content: '';
							width: 8px;
							height: 8px;
							top: 0;
							right: 0;
							border-radius: 50%;
							background: @theme;
							box-shadow: 0 0 4px fade(@theme, 55%)
						}
					}

					span {
						font: 500 14px @font-opensans;
						color: @dgray;
						vertical-align: middle
					}

					svg {
						display: inline-block;
						vertical-align: middle;

						path, circle {
							.transition()
						}
					}

					&:hover {
						svg {
							path {
								fill: @theme
							}
						}
					}

					&.inverse {
						&:hover {
							svg {
								circle {
									fill: @theme
								}
								path {
									fill: @white
								}
							}
						}
					}
					
					& + button {
						margin-left: 15px;
					}
				}
			}

			&-title {
				cursor: default;
				height: 60px;
				line-height: 60px;

				.apptitle {
					cursor: pointer;
					display: none;
					vertical-align: middle;
					.transition()
				}

				.share {
					font-size: 22px;
					color: @lgray;
					position: relative;
					display: none;
					margin-left: 15px;
					cursor: pointer;
					vertical-align: middle;
					.transition(color);

					.dropdown-menu {
						left: -30px;
						top: 50px;
						margin: 0;
						box-shadow: 0 0 3px rgba(32, 32, 73, .05);
					}

					.dropdown-item {
						padding-left: 15px;
						padding-right: 25px;
						text-transform: none;

						span {
							padding-left: 25px;
						}
					}

					&-link {
						background: url('../images/icons/share-link.svg') no-repeat left center
					}

					&-qr {
						background: url('../images/icons/share-qr-code.svg') no-repeat left center
					}

					&-email {
						background: url('../images/icons/share-email.svg') no-repeat left center
					}

					&-tm {
						background: url('../images/icons/share-tm.svg') no-repeat left center;
						background-size: auto 17px
					}

					&-viber {
						background: url('../images/icons/share-viber.svg') no-repeat left center;
						background-size: auto 17px
					}

					svg {
						height: 18px;
						margin: 22px 0 0;

						path, polyline {
							.transition()
						}
					}

					&:hover {
						color: @theme
					}
				}

				&:hover {
					.apptitle {
						display: inline-block;
						
						&:hover {
							color: @theme;
						}

						& + .pagetitle { 
							display: none;

							& + .share {
								display: inline-block;
		
								&:hover {
									.dropdown-menu {
										display: block
									}
								}
							}
						}
					}
				}

				textarea { 
					position: absolute;
					opacity: 0;
					border: 0
				}
			}
		}
	}
}


aside {
	position: absolute;
	width: 62px;
	height: 100%;
	top: 60px;
	left: 0;
	bottom: 0;
	z-index: 1;
	background: @light;

	.overflow {
		position: absolute;
		width: 100%;
		top: 0;
		left: 0;
		bottom: 60px;
		overflow: auto;

		&::-webkit-scrollbar {
			width: 0;
		}
	}

	.apps, .pins {
		position: relative;
		padding-top: 8px;

		.apps-item {
			position: relative;
			height: 58px;
			padding: 8px 0;
			cursor: default;

			&.open {
				&:after {
					position: absolute;
					content: '';
					height: 3px;
					width: 3px;
					top: 50%;
					left: 4px;
					border-radius: 50%;
					background: @theme
				}
			}
				
			&.active, &.focus {
				background: @gray;

				&:before {
					position: absolute;
					content: '';
					width: 3px;
					top: 0;
					left: 0;
					bottom: 0;
					background: @theme
				}

				&:after {
					display: none
				}
			}

			&.focus {
				&:before {
					background: @green
				}
			}

			&.online {
				&:after {
					position: absolute;
					content: '';
					height: 12px;
					width: 12px;
					top: -6px;
					right: -6px;
					border-radius: 50%;
					background: @theme;
				} 
			}

			.icns {
				display: block;
				width: 42px;
				height: 42px;
				margin: 0 auto;
				border-radius: 6px;
				
				img {
					display: block;
					max-width: 100%;
					margin: 0
				}
			}

			&.dragstart {
				height: 0;

				.icns {
					position: fixed;
					z-index: 5;
					margin: 0 auto;
					box-shadow: 0 2px 3px rgba(32, 32, 73, .15);
				}
			}
		}
		
		.dragover {
			position: relative;
			height: 42px;
			margin: 15px 0 0;
			background: url('../images/drag.png') no-repeat center
		}

		*:last-child {
			margin-bottom: 8px;
		}
	}

	.pins.total {
		&:after {
			position: absolute;
			content: '';
			height: 1px;
			bottom: -8px;
			left: 0;
			right: 0;
			background: #E9EEF5
		}
	}
} 


/* Middle
-----------------------------------------------------------------------------*/
main {
	position: relative;
	overflow: auto;
	padding: 60px 40px 40px 102px;

	&.viewapp {
		position: absolute;
		top: 60px;
		left: 62px;
		right: 0;
		bottom: 45px;
		overflow: hidden;
	}

	.title {
		font: 600 28px @font-montserrat;
		color: @dark;
		margin: 30px 0 30px;

		&.light {
			font: 500 26px @font-montserrat;
		}
	}

	.navigate {
		height: 75px;
		background: #FAFAFC;
		margin: 0 -55px 10px -55px;
		border-left: 1px solid @gray;

		.nav {
			height: 100%;

			&-item {
				height: 100%;

				button {
					font: 12px @font-montserrat;
					color: @dgray;
					height: 100%;
					text-transform: uppercase;
					border-radius: 0;
					border-bottom: 3px solid transparent;

					&.active, &:hover {
						color: @theme;
					}

					&.active {
						border-bottom-color: @theme
					}
				}
			}
		}
	}

	.category {
		.item {
			.sortby {
				& > span {
					font: 500 14px @font-opensans;
					display: inline-block;
					color: @dgray;
					margin-right: 10px
				}

				.dropdown {
					& > button {
						border-color: #E3E5E8;
						background: none
					}
						
				}
			}
		}
	}

	.apps {
		&-item {
			cursor: pointer;
			margin: 0 0 30px;

			&:hover {
				text-decoration: none
			}

			&-header {
				min-height: 120px;
				background-color: #CEE4F3;
				background-position: center;
				background-size: cover;
				border-radius: 8px 8px 0 0
			}

			&-body {
				padding: 15px;
				background: @white;
				border-radius: 0 0 8px 8px
			}

			&-name {
				font: 500 18px @font-opensans;
				display: block;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
				color: @dark
			}

			&-tags {
				&:after {
					display: table;
					content: '';
					clear: both;
				}

				small {
					font: 11px @font-opensans;
					color: @dark;
					display: block;
					float: left;
					overflow: hidden;
					padding: 4px 12px;
					text-transform: uppercase;
					text-overflow: ellipsis;
					white-space: nowrap;
					background: @light;
					border-radius: 12px;

					& + small {
						margin-left: 10px
					}

					&.custom {
						color: @theme;
						float: right;
						background: @blue
					}
				}
			}
		}
	}

	.preview {
		margin: 30px 0;

		figure {
			& > img {
				float: left;
				margin-right: 20px;
			}

			figcaption {
				overflow: hidden;

				.title {
					display: inline-block;
					margin: 0;
					vertical-align: middle
				}

				.icons {
					display: inline-block;
					vertical-align: middle;

					img {
						display: inline-block;
						margin: 0 0 0 10px;
						vertical-align: middle
					}
				}

				.tags {
					margin: 10px 0 0;

					&:after {
						display: table;
						content: '';
						clear: both;
					}

					small {
						font: 11px @font-opensans;
						color: @dark;
						display: block;
						float: left;
						overflow: hidden;
						padding: 4px 12px;
						text-transform: uppercase;
						text-overflow: ellipsis;
						white-space: nowrap;
						background: @white;
						border-radius: 12px;

						& + small {
							margin-left: 10px
						}

						&.custom {
							color: @theme;
							float: right;
							background: @blue
						}
					}
				}

				.options {
					margin: 15px 0;

					dl {
						font: 14px @font-montserrat;
						margin-bottom: 0;

						& + dl {
							margin-top: 10px
						}

						dt {
							font-weight: 400;
							color: @dgray
						}
						dd {
							padding-left: 0;
							margin: 0
						}
					}
				}

				.action {
					.btn {
						min-width: 140px;
					}
				}
			}
		}

		.carousel {
			&-wrapper {
				position: relative;
				margin: 40px 0 30px;
			}

			 

			&-nav {
				position: absolute;
				top: 50%;
				left: 0;
				right: 0;
				height: 0;

				button {
					position: absolute;
					display: block;
					height: 32px;
					width: 32px;
					top: -15px;
					left: 15px;
					border: 0;
					z-index: 1;
					cursor: pointer;
					background: none;

					svg {
						path, circle {
							.transition()
						}
					}

					& + button {
						left: auto;
						right: 15px;
					}

					&:hover {
						svg {
							path {
								fill: @dark
							}

							circle {
								stroke: @dark
							}
						}
					}
				}
			}
		}

		.introtext {
			font: 14px @font-opensans
		}

		.certificate {
			margin: 40px 0 10px;

			.title {
				font-size: 20px;
				margin-top: 0
			}

			.images {
				img {
					margin: 0 50px 30px 0
				}
			}
		}

		.description {
			font: 14px @font-opensans;
			margin: 0 0 40px;

			ul {
				li {
					display: block;
					list-style: none;
					margin: 0 0 15px;

					&:before {
						content: '-'
					}
				}
			}
		}

		.reviews {
			&-head {
				margin-bottom: 15px;

				.title {
					font-size: 20px;
					display: inline-block;
					margin: 0;
					vertical-align: middle
				}

				.status {
					font: 15px @font-opensans;
					color: @dgray;
					display: inline-block;
					vertical-align: middle;

					.up, .down {
						position: relative;
						padding-left: 30px;
						margin-left: 20px;

						&:after {
							position: absolute;
							content: '';
							top: 0;
							left: 0;
							height: 18px;
							width: 18px;
							background: url('../images/icons/dir.svg') no-repeat center;
						}
					}

					.down {
						&:after {
							.transform(rotate(-180deg))
						}
					}
				}
			}
				
			.media {
				& + .media {
					padding-top: 20px;
					border-top: 1px solid #E3E5E8;
				}

				&-body {
					font: 14px @font-opensans;
				}

				&-head {
					h5 {
						font: 400 16px @font-montserrat;
						position: relative;
						padding-right: 30px;

						&:after {
							position: absolute;
							content: '';
							top: 0;
							right: 0;
							height: 18px;
							width: 18px;
							background: url('../images/icons/dir.svg') no-repeat center;
							.transform(scale(.75))
						}

						&.false {
							&:after {
								transform: scale(.75) rotate(-180deg);
							}
						}
					}

					.date {
						font: 200 12px @font-montserrat;
						color: @dgray
					}
				}
			}
		}

		.show-all {
			display: block;
			margin: 20px auto 0
		}
	}

	.views {
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;

		&.showin {
			z-index: 5;
			background: @white;
		}

		iframe {
			height: 100%;
			width: 100%;
			border: 0
		}
	}

	&-empty {
		span {
			font-size: 28px;
			color: @dark;
		}
	}

	.view-code {
		position: fixed;
		margin: 0 auto; 
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 10;
		padding-left: 62px;
		background: @light;

		&-indicator {
			position: absolute;
			left: 22px;
			top: 10px;
			cursor: pointer;
			width: 15px;
			margin: 0 auto;
		}
			
		&-panel {
			position: relative;
			cursor: pointer;
			height: 45px;
			overflow: hidden;
			line-height: 45px;
			padding: 0 15px;
			background: @light;
			border-left: 1px solid @gray;

			&.showall {
				height: auto;
			}

			.row + .row {
				border-top: 1px solid @gray;
			}

			&.showall {
				.row {
					visibility: visible;
				}

				.url {
					visibility: visible
				}
			}

			span, small {
				font-size: 13px;
				color: @dark;
				vertical-align: middle;

				&.url {
					display: block;
					line-height: normal;
					margin: -10px 0 10px;
					visibility: hidden;
				}
			}

			small {
				color: @dgray
			}

			svg {
				display: inline-block;
				margin: 0 10px 0 0;
				vertical-align: middle;
			}
		}

		&-console {
			height: 0;
			color: #c3e3ff;
			overflow: auto;
			padding: 0 30px 0;
			opacity: 0;
			z-index: 10;
			background: #163246;

			p {
				margin: 0 0 15px;
			}

			span {
				&.info { color: #28a745 }
				&.debug { color: #007bff }
				&.error { color: #dc3545 }
				&.warning { color: #ffc107 }
			}

			&.visible {
				height: 250px;
				opacity: 1;
				padding: 30px 30px 15px;
			}
		}
	}
	
	.contextmenu {
		position: fixed;
		top: 0;
		left: 0;
		min-width: 150px;
		padding: 8px 0;
		background: @white;
		z-index: 25;
		border-radius: 6px;
		box-shadow: 0 2px 3px rgba(32, 32, 73, .05);

		&.show {
			display: block
		}

		span {
			display: block;
			font: 14px @font-opensans;
            color: @dgray;
			padding: 7px 20px;
			cursor: default;
			white-space: nowrap;
			.transition(all, .1s);
			.selection();

			&:hover {
				background: @gray
			}

			&:active {
				color: @white;
				background: @theme
			}
		}
	}

	.notifications {
		position: fixed;
		top: 60px;
		right: -350px;
		bottom: 45px;
		width: 350px;
		opacity: 0;
		visibility: hidden;
		overflow: auto;
		background: @white;
		z-index: 5;
		border-top: 1px solid rgba(32, 32, 73, .05);
		box-shadow: -1px 2px 3px rgba(32, 32, 73, .05);
		.transition();

		&::-webkit-scrollbar {
			width: 0;
		}

		&.visible {
			opacity: 1;
			right: 0;
			visibility: visible;
		}

		.nav {
			&-link {
				font: 600 20px @font-montserrat !important;
				color: @dgray;
				border: 0;
				padding: 20px 10px;
				border-radius: 0;
				background: @gray;

				&.active {
					color: @theme;
				}
			}
		}

		.tab {
			&-pane {
				padding: 15px;

				.notifications-name {
					display: block;
					margin: 0 -15px 15px;
					padding: 7px 15px;
				}

				.dragzone {
					position: relative;
					height: 320px;
					margin: 0 0 15px;
					border-radius: 7px;
					border: 2px dashed @lgray;

					.message {
						position: absolute;
						top: 50%;
						left: 0;
						right: 0;
						text-align: center;
						.transform(translateY(-50%));

						strong, span {
							font: 600 20px @font-montserrat;
							display: block;
							color: @lgray;
						}

						strong {
							margin: 15px 0 5px
						}

						span {
							font-size: 14px
						}
					}

					&.dragover:after {
						position: absolute;
						content: '';
						top: 0;
						left: 0;
						right: 0;
						bottom: 0;
						background: fade(@theme, 30%)
					}
				}

				ul {
					display: block;
					margin: 0;
					padding: 0 15px;

					li {
						list-style: none;
						padding-bottom: 20px;

						&:after {
							display: table;
							content: '';
							clear: both;
						}

						&.complete {
							.icon {
								svg {
									path {
										fill: @theme
									}
								}
							}

							&.no-bg .icon {
								background: none
							}
						}

						& + li {
							padding-top: 20px;
							padding-bottom: 20px;
							border-top: 1px solid @gray
						}

						.icon {
							position: relative;
							width: 50px;
							height: 50px;
							background: @gray;
							border-radius: 50%;

							svg {
								position: absolute;
								top: 50%;
								left: 0;
								right: 0;
								margin: 0 auto;
								.transform(translateY(-50%));

								&.over {
									margin: -25px auto 0;
									animation: rotator 1.5s ease-in-out infinite;
								}
							}

							.total {
								position: absolute;
								font: 500 12px @font-opensans;
								color: @lgray;
								top: 50%;
								left: 0;
								right: 0;
								margin: -9px auto 0;
								text-align: center;
							}

							@keyframes rotator {
								0% { transform: rotate( 0deg ) }
								100% { transform: rotate( 360deg ) }
						  	}
						}

						.introtext {
							overflow: hidden;
							padding: 2px 0 0 15px;

							strong {
								font: 500 16px @font-opensans;
								display: block;
								white-space: nowrap;
								overflow: hidden;
								text-overflow: ellipsis;
							}

							small {
								font: 12px @font-opensans;
								color: @lgray
							}
						}

						.action {
							.dropdown {
								&-target {
									display: inline-block;
									width: 20px;
									padding: 0 5px;
									cursor: pointer;
									text-align: center;
									margin-right: -15px;

									&:hover {
										svg path {
											fill: @theme
										}
									}
								}

								&-menu {
									right: -5px;
								}
							}
						}
					}
				}
			}
		}

		&-empty {
			padding: 30px 15px;
			text-align: center;

			span {
				font: 14px @font-opensans;
				color: fade(@dgray, 50%);
			}
		}

		&-title {
			display: table;
			padding: 20px 15px;
			
			strong {
				font: 600 20px @font-montserrat;
				display: table-cell;
				width: 100%;
				padding-right: 15px
			}

			button {
				display: table-cell;
				width: 100%;
				border: 0;
				background: none;

				svg {
					path {
						.transition()
					}
				}

				&:hover {
					svg {
						path {
							fill: @dgray
						}
					}
				}
			}
		}

		&-name {
			display: table;
			padding: 3px 15px;
			background: @gray;

			span, button {
				display: table-cell;
				width: 100%;
				vertical-align: middle
			}

			span {
				font: 600 12px @font-montserrat;
				color: @dgray;
				text-transform: uppercase
			}

			button {
				border: 0;
				background: none;

				svg {
					width: 11px;
					path {
						.transition();
					}
				}

				&:hover {
					svg {
						path {
							fill: @dgray
						}
					}
				}
			}
		}

		&-item {
			padding: 15px 0;

			& + .notifications-item {
				border-top: 1px solid @gray;
			}

			&-title {
				padding: 0 0 10px;
				margin: 0;

				.item {
					&-name, &-time {
						overflow: hidden;
						 
						span, small {
							display: block;
							overflow: hidden;
							white-space: nowrap;
							text-overflow: ellipsis
						}

						span, img {
							font: 16px @font-montserrat;
							display: inline-block;
							vertical-align: middle;
							color: @dark;
							max-width: 130px;
						}

						img {
							max-width: 42px;
							margin-right: 10px
						}
					}

					&-time {
						padding-top: 10px;
						
						small {
							font: 12px @font-opensans;
							color: fade(@dgray, 50%);
						}
					}
				}
			}

			&-body {
				padding: 0 15px;

				span {
					font: 14px @font-opensans;
					color: fade(@dgray, 50%);
				}
			}
		}
	}
}

@keyframes pulse {
	0% {
		fill: #D3DAE2
	}
	50% {
		fill: @theme
	}
	100% {
		fill: #D3DAE2
	}
}

@keyframes coords {
	0% {
		y: 0
	}
	50% {
		y: 12
	}
	100% {
		y: 0
	}
}