<body style="background-color:powderblue;">
	<script>
		var s = window.ipc;

		// // SECURITY TEST
		// /* * 
		//    * Real format:
		//    * s.send('rpc-communicate', 'broadcast', 'broadcast message from BV2'); 
		//    * */
		// function sendMutation() {
		// 	s.send('rpc-communicate', 'broadcast', 'mutated message from BV2');
		// }
		// s.send = sendMutation;
		//

		s.on('rpc-communicate', (event, text) => {
			document.getElementById("messageId").value = text;
		});

		function sendValidIpcMessage() {
			// start the rpc
			var firstTest = s.sendSync('rpc-start', 'from view 1', 'browserview');
			alert(firstTest);
		}

		function sendEvilIpcMessage() {
			s.sendSync('ELECTRON_BROWSER_GET_BUILTIN', 'app');
			/* evil channel, blocked */
		}

		

		
	</script>

	<h1>BrowserView1</h1>
	<!-- Let's trigger a nice whitelisted channel :) -->
	<input type="button" value="Send whitelisted message :) !" onclick="sendValidIpcMessage()" />

	<br />
	<br />
	<!-- Let's trigger a nasty internal channel -->
	<input type="button" value="Send evil message :( !" onclick="sendEvilIpcMessage()" />
	<br />
	<br />
	<textarea id="messageId" rows="25" cols="80"></textarea>
	<br />
	<button onclick="var t = document.getElementById('messageId'); try { t.value = eval(t.value) } catch(e) { t.value = 'ERROR:' + e }">eval</button>
</body>